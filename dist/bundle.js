(()=>{"use strict";function t(t){return void 0===t&&(t="canvas"),document.getElementById(t)}var e={r:0,g:0,b:0};function n(){return{r:255*Math.random(),g:255*Math.random(),b:255*Math.random()}}function i(t){return t[Math.floor(Math.random()*t.length)]}function o(t,e,n){e.fillStyle="rgb("+n.r+", "+n.g+", "+n.b+")",e.fillRect(t.x,t.y,t.widthPixel,t.heightPixel)}function r(t){for(var o=[],r=[n(),n(),n(),e,e,e],a=0;a<Math.floor(t/2);a++)o.push(i(r));return o.slice(0).reverse().forEach((function(t){return o.push(t)})),t%2!=0&&o.splice(Math.floor(t/2)+1,0,i(r)),o}function a(){var e=t();if(e.getContext){var n=c||8,i=g||8,a=Math.floor(e.width/n),h=e.width%n,d=Math.floor(e.height/i),l=e.height%i,u=e.getContext("2d");u.clearRect(0,0,e.width,e.height),function(t,e,n,i){console.log(n),console.log(i),console.log(t);for(var a=t.x,h=t.y,d=t.widthPixel,l=t.heightPixel,c=0;c<i;c+=1)for(var g=r(n),u=0;u<g.length;u+=1)o({x:a+u*d,y:h+c*l,widthPixel:d,heightPixel:l},e,g[u])}({x:h/2,y:l/2,widthPixel:a,heightPixel:d},u,n,i)}}function h(e,n){var i,o,r,a=n.target.value;"width"===e&&(l=a),i=l,o=a,(r=t()).width=i,r.height=o}function d(t,e){var n=e.target.value;"x"===t?c=n:g=n}var l=0,c=0,g=0;window.onload=function(){a();var t=document.getElementById("reset-button");t&&t.addEventListener("click",a);var e=document.getElementById("widthCanvas");e&&e.addEventListener("change",(function(t){h("width",t),a()}));var n=document.getElementById("heightCanvas");n&&n.addEventListener("change",(function(t){h("height",t),a()}));var i=document.getElementById("nbPixelX");i&&i.addEventListener("change",(function(t){d("x",t),a()}));var o=document.getElementById("nbPixelY");o&&o.addEventListener("change",(function(t){d("y",t),a()}))}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdmF0YXItZ2VuZXJhdG9yLy4vc3JjL2NhbnZhcy50cyIsIndlYnBhY2s6Ly9hdmF0YXItZ2VuZXJhdG9yLy4vc3JjL2F2YXRhci50cyIsIndlYnBhY2s6Ly9hdmF0YXItZ2VuZXJhdG9yLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImdldENhbnZhcyIsImNhbnZhc0lkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIkJMQUNLIiwiciIsImciLCJiIiwicmFuZG9tQ29sb3IiLCJNYXRoIiwicmFuZG9tIiwicmFuZG9tSW5BcnJheUNvbG9yIiwiY29sb3JzIiwiZmxvb3IiLCJsZW5ndGgiLCJjcmVhdGVTcXVhcmUiLCJib3JkZXIiLCJjb250ZXh0IiwiY29sb3IiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIngiLCJ5Iiwid2lkdGhQaXhlbCIsImhlaWdodFBpeGVsIiwiZ2VuZXJhdGVSb3dDb2xvcnMiLCJuYlBpeGVsV2lkdGgiLCJiaXRzQ29sb3IiLCJyYW5kb21Db2xvcnMiLCJpIiwicHVzaCIsInNsaWNlIiwicmV2ZXJzZSIsImZvckVhY2giLCJiaXQiLCJzcGxpY2UiLCJsb2FkIiwiY2FudmFzIiwiZ2V0Q29udGV4dCIsIm5iUGl4ZWxYIiwibmJQaXhlbEhlaWdodCIsIm5iUGl4ZWxZIiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsImNsZWFyUmVjdCIsImNvbnNvbGUiLCJsb2ciLCJ4T2Zmc2V0IiwieU9mZnNldCIsImNyZWF0ZUludmFkZXIiLCJjaGFuZ2VDYW52YXNTbGlkZXIiLCJzaXplIiwiZSIsIm5ld1ZhbHVlIiwidGFyZ2V0IiwidmFsdWUiLCJ3aWR0aENhbnZhcyIsImNoYW5nZVBpeGVsU2xpZGVyIiwid2luZG93Iiwib25sb2FkIiwiYnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImlucHV0V2lkdGgiLCJpbnB1dEhlaWdodCIsImlucHV0UGl4ZWxYIiwiaW5wdXRQaXhl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VUUsT0FBT0MsTUFDaEMsTUFBVEosRUFDRGQsRUFBV2dCLEVBRVhkLEVBQVdjLEVBS2YsSUFBSUcsRUFBYyxFQUVkbkIsRUFBVyxFQUNYRSxFQUFXLEVBQ2ZtQixPQUFPQyxPQUFTLFdBQ2R6QixJQUVBLElBQU0wQixFQUFTNUQsU0FBU0MsZUFBZSxnQkFDbkMyRCxHQUNEQSxFQUFPQyxpQkFBaUIsUUFBUzNCLEdBR3BDLElBQU00QixFQUFhOUQsU0FBU0MsZUFBZSxlQUN4QzZELEdBQ0RBLEVBQVdELGlCQUFpQixVQUFVLFNBQUNULEdBQVFGLEVBQW1CLFFBQVNFLEdBQUlsQixPQUVqRixJQUFNNkIsRUFBYy9ELFNBQVNDLGVBQWUsZ0JBQ3pDOEQsR0FDREEsRUFBWUYsaUJBQWlCLFVBQVUsU0FBQ1QsR0FBUUYsRUFBbUIsU0FBVUUsR0FBSWxCLE9BR25GLElBQU04QixFQUFjaEUsU0FBU0MsZUFBZSxZQUN6QytELEdBQ0RBLEVBQVlILGlCQUFpQixVQUFVLFNBQUNULEdBQVFLLEVBQWtCLElBQUtMLEdBQUlsQixPQUU3RSxJQUFNK0IsRUFBY2pFLFNBQVNDLGVBQWUsWUFDekNnRSxHQUNEQSxFQUFZSixpQkFBaUIsVUFBVSxTQUFDVCxHQUFRSyxFQUFrQixJQUFLTCxHQUFJbEIsUyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDYW52YXMoY2FudmFzSWQ6IHN0cmluZyA9ICdjYW52YXMnKSA6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbCB7XG4gIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXNJZCkgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDYW52YXNTaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA6IHZvaWQgIHtcbiAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG4gIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhdyhjYWxsYmFjazogKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB2b2lkKSA6IHZvaWQge1xuICBjb25zdCBjYW52YXMgPSBnZXRDYW52YXMoKTtcbiAgaWYgKGNhbnZhcy5nZXRDb250ZXh0KSB7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY2FsbGJhY2soY3R4KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlQmFja2dyb3VuZENhbnZhcyhyYW5kb20gOiBib29sZWFuID0gZmFsc2UpIDogdm9pZCB7XG4gIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuICBpZihjYW52YXMuZ2V0Q29udGV4dCkge1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnN0IGNvbG9yID0gcmFuZG9tID8gXG4gICAgICBgcmdiYShcbiAgICAgICAgICR7TWF0aC5yYW5kb20oKSAqIDI1NX0sXG4gICAgICAgICAke01hdGgucmFuZG9tKCkgKiAyNTV9LFxuICAgICAgICAgJHtNYXRoLnJhbmRvbSgpICogMjU1fSxcbiAgICAgICAgIDEpYDpcbiAgICAgICdyZ2JhKDIxMiwyNTUsMTU2LDEpJztcbiAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgY3R4LmZpbGxSZWN0KDAsMCx3aW5kb3cuaW5uZXJXaWR0aCx3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICB9XG59IiwiaW50ZXJmYWNlIGJvcmRlckludGVyZmFjZSB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICB3aWR0aFBpeGVsOiBudW1iZXI7XG4gIGhlaWdodFBpeGVsOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBjb2xvckludGVyZmFjZSB7XG4gIHI6IG51bWJlcjtcbiAgZzogbnVtYmVyO1xuICBiOiBudW1iZXI7XG59XG5cblxuY29uc3QgQkxBQ0sgOiBjb2xvckludGVyZmFjZSA9IHsgcjogMCwgZzowLCBiOjAgfTtcblxuZnVuY3Rpb24gcmFuZG9tQ29sb3IoKSA6IGNvbG9ySW50ZXJmYWNlIHtcbiAgcmV0dXJuIHsgcjogTWF0aC5yYW5kb20oKSAqIDI1NSwgZzogTWF0aC5yYW5kb20oKSAqIDI1NSwgYjogTWF0aC5yYW5kb20oKSAqIDI1NSB9O1xufVxuXG5mdW5jdGlvbiByYW5kb21JbkFycmF5Q29sb3IoY29sb3JzOiBjb2xvckludGVyZmFjZVtdKSA6IGNvbG9ySW50ZXJmYWNlIHtcbiAgcmV0dXJuIGNvbG9yc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb2xvcnMubGVuZ3RoKV07XG59IFxuXG5cbmZ1bmN0aW9uIGNyZWF0ZVNxdWFyZShib3JkZXI6IGJvcmRlckludGVyZmFjZSwgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjb2xvcjogY29sb3JJbnRlcmZhY2UpIDogdm9pZCB7XG4gIGNvbnRleHQuZmlsbFN0eWxlID0gYHJnYigke2NvbG9yLnJ9LCAke2NvbG9yLmd9LCAke2NvbG9yLmJ9KWA7XG4gIGNvbnRleHQuZmlsbFJlY3QoYm9yZGVyLngsIGJvcmRlci55LCBib3JkZXIud2lkdGhQaXhlbCwgYm9yZGVyLmhlaWdodFBpeGVsKTtcbn1cblxuXG5mdW5jdGlvbiBnZW5lcmF0ZVJvd0NvbG9ycyhuYlBpeGVsV2lkdGg6IG51bWJlcikgOiBjb2xvckludGVyZmFjZVtdIHtcbiAgbGV0IGJpdHNDb2xvciA6IGNvbG9ySW50ZXJmYWNlW10gPSBbXTtcbiAgY29uc3QgcmFuZG9tQ29sb3JzIDogY29sb3JJbnRlcmZhY2VbXSA9W1xuICAgIHJhbmRvbUNvbG9yKCksXG4gICAgcmFuZG9tQ29sb3IoKSxcbiAgICByYW5kb21Db2xvcigpLFxuICAgIEJMQUNLLFxuICAgIEJMQUNLLFxuICAgIEJMQUNLXG4gIF07XG5cbiAgZm9yKGxldCBpID0gMDsgaSA8IE1hdGguZmxvb3IobmJQaXhlbFdpZHRoLzIpOyBpKyspIHtcbiAgICBiaXRzQ29sb3IucHVzaChyYW5kb21JbkFycmF5Q29sb3IocmFuZG9tQ29sb3JzKSk7XG4gIH1cblxuICBiaXRzQ29sb3Iuc2xpY2UoMCkucmV2ZXJzZSgpLmZvckVhY2goKGJpdCkgPT4gYml0c0NvbG9yLnB1c2goYml0KSk7XG5cbiAgLy8gYWRkIG9uZSBtb3JlIGJpdHMgZm9yIG9kZHMgd2lkdGhcbiAgaWYobmJQaXhlbFdpZHRoICUgMiAhPT0gMCkge1xuICAgIGJpdHNDb2xvci5zcGxpY2UoTWF0aC5mbG9vcihuYlBpeGVsV2lkdGgvMikgKyAxLCAwLCByYW5kb21JbkFycmF5Q29sb3IocmFuZG9tQ29sb3JzKSk7XG4gIH1cblxuICByZXR1cm4gYml0c0NvbG9yO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW52YWRlcihib3JkZXIgOiBib3JkZXJJbnRlcmZhY2UsIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgbmJQaXhlbFdpZHRoOiBudW1iZXIsIG5iUGl4ZWxIZWlnaHQ6IG51bWJlcikgOiB2b2lkIHtcbiAgY29uc29sZS5sb2cobmJQaXhlbFdpZHRoKVxuICBjb25zb2xlLmxvZyhuYlBpeGVsSGVpZ2h0KVxuICBjb25zb2xlLmxvZyhib3JkZXIpXG4gIGNvbnN0IHsgeDogeE9mZnNldCAsIHk6IHlPZmZzZXQgLCB3aWR0aFBpeGVsLCBoZWlnaHRQaXhlbCB9ID0gYm9yZGVyO1xuICBmb3IobGV0IHkgOiBudW1iZXIgPSAwOyB5IDwgbmJQaXhlbEhlaWdodDsgeSArPSAxKSB7XG4gICAgY29uc3QgYml0c0NvbG9yID0gZ2VuZXJhdGVSb3dDb2xvcnMobmJQaXhlbFdpZHRoKTtcbiAgICBmb3IobGV0IHg6IG51bWJlciA9IDA7IHggPCBiaXRzQ29sb3IubGVuZ3RoOyB4ICs9IDEpIHtcbiAgICAgIGNyZWF0ZVNxdWFyZShcbiAgICAgICAgeyB4OiB4T2Zmc2V0ICsgKHggKiB3aWR0aFBpeGVsKSxcbiAgICAgICAgICB5OiB5T2Zmc2V0ICsgKHkgKiBoZWlnaHRQaXhlbCksXG4gICAgICAgICAgd2lkdGhQaXhlbCxcbiAgICAgICAgICBoZWlnaHRQaXhlbFxuICAgICAgICAgfSxcbiAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICBiaXRzQ29sb3JbeF1cbiAgICAgICk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgc2V0Q2FudmFzU2l6ZSwgY2hhbmdlQmFja2dyb3VuZENhbnZhcywgZ2V0Q2FudmFzLCBkcmF3IH0gZnJvbSBcIi4vY2FudmFzXCI7XG5pbXBvcnQgeyBjcmVhdGVJbnZhZGVyIH0gZnJvbSBcIi4vYXZhdGFyXCI7XG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG4gY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG4gIGlmIChjYW52YXMuZ2V0Q29udGV4dCkge1xuICAgIGNvbnN0IG5iUGl4ZWxXaWR0aCA9IG5iUGl4ZWxYIHx8IDg7XG4gICAgY29uc3QgbmJQaXhlbEhlaWdodCA9IG5iUGl4ZWxZIHx8IDg7XG4gICAgY29uc3Qgd2lkdGhQaXhlbCA9IE1hdGguZmxvb3IoY2FudmFzLndpZHRoIC8gbmJQaXhlbFdpZHRoKTtcbiAgICBjb25zdCBvZmZzZXRXaWR0aCA9IChjYW52YXMud2lkdGggJSBuYlBpeGVsV2lkdGgpO1xuICAgIFxuICAgIGNvbnN0IGhlaWdodFBpeGVsID0gTWF0aC5mbG9vcihjYW52YXMuaGVpZ2h0IC8gbmJQaXhlbEhlaWdodCk7XG4gICAgY29uc3Qgb2Zmc2V0SGVpZ2h0ID0gKGNhbnZhcy5oZWlnaHQgJSBuYlBpeGVsSGVpZ2h0KTtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAvLyByZWZyZXNoXG4gICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBcbiAgICBjcmVhdGVJbnZhZGVyKHt4OiBvZmZzZXRXaWR0aCAvMiAsIHk6IG9mZnNldEhlaWdodCAvIDIsIHdpZHRoUGl4ZWwsIGhlaWdodFBpeGVsIH0sIGNvbnRleHQsIG5iUGl4ZWxXaWR0aCwgbmJQaXhlbEhlaWdodCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hhbmdlQ2FudmFzU2xpZGVyKHNpemU6IFwid2lkdGhcInwgXCJoZWlnaHRcIiwgZTogRXZlbnQpIDogdm9pZCB7XG4gIGNvbnN0IG5ld1ZhbHVlIDogbnVtYmVyID0gKGUgYXMgYW55KS50YXJnZXQudmFsdWU7XG4gIGlmKHNpemUgPT09IFwid2lkdGhcIikge1xuICAgIHdpZHRoQ2FudmFzID0gbmV3VmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgaGVpZ2h0Q2FudmFzID0gbmV3VmFsdWU7XG4gIH1cbiAgc2V0Q2FudmFzU2l6ZSh3aWR0aENhbnZhcywgbmV3VmFsdWUpO1xufVxuXG5mdW5jdGlvbiBjaGFuZ2VQaXhlbFNsaWRlcihzaXplOiBcInhcInwgXCJ5XCIsIGU6IEV2ZW50KSA6IHZvaWQge1xuICBjb25zdCBuZXdWYWx1ZSA6IG51bWJlciA9IChlIGFzIGFueSkudGFyZ2V0LnZhbHVlO1xuICBpZihzaXplID09PSBcInhcIikge1xuICAgIG5iUGl4ZWxYID0gbmV3VmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgbmJQaXhlbFkgPSBuZXdWYWx1ZTtcbiAgfVxufVxuXG4vLyBHTE9CQUxTIFZBUklBQkxFU1xubGV0IHdpZHRoQ2FudmFzID0gMDtcbmxldCBoZWlnaHRDYW52YXMgPSAwO1xubGV0IG5iUGl4ZWxYID0gMDtcbmxldCBuYlBpeGVsWSA9IDA7XG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gIGxvYWQoKVxuICAvLyBjb25uZWN0IGJ1dHRvbiArIGlucHV0c1xuICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc2V0LWJ1dHRvblwiKTtcbiAgIGlmKGJ1dHRvbikge1xuICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGxvYWQpO1xuICB9XG5cbiAgY29uc3QgaW5wdXRXaWR0aCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2lkdGhDYW52YXNcIik7XG4gIGlmKGlucHV0V2lkdGgpIHtcbiAgICBpbnB1dFdpZHRoLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGUpID0+IHsgY2hhbmdlQ2FudmFzU2xpZGVyKFwid2lkdGhcIiwgZSk7IGxvYWQoKSB9KTtcbiAgfVxuICBjb25zdCBpbnB1dEhlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVpZ2h0Q2FudmFzXCIpO1xuICBpZihpbnB1dEhlaWdodCkge1xuICAgIGlucHV0SGVpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGUpID0+IHsgY2hhbmdlQ2FudmFzU2xpZGVyKFwiaGVpZ2h0XCIsIGUpOyBsb2FkKCkgfSk7XG4gIH1cblxuICBjb25zdCBpbnB1dFBpeGVsWCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmJQaXhlbFhcIik7XG4gIGlmKGlucHV0UGl4ZWxYKSB7XG4gICAgaW5wdXRQaXhlbFguYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZSkgPT4geyBjaGFuZ2VQaXhlbFNsaWRlcihcInhcIiwgZSk7IGxvYWQoKSB9KTtcbiAgfVxuICBjb25zdCBpbnB1dFBpeGVsWSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmJQaXhlbFlcIik7XG4gIGlmKGlucHV0UGl4ZWxZKSB7XG4gICAgaW5wdXRQaXhlbFkuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZSkgPT4geyBjaGFuZ2VQaXhlbFNsaWRlcihcInlcIiwgZSk7IGxvYWQoKSB9KTtcbiAgfVxufTtcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==